<!DOCTYPE html>
<html>

<head>
        <title>Green Globs</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<!--<script src="navigation.js"></script>-->
</head>

<body>
    <div>
        <h1>Green Globs</h1>
        <p>Lösche die grünen Punkte, indem du sie mit Funktionen überdeckst. Du darfst konstante, lineare und quadratische Funktionen vewenden. Für jede verwendete Funktion erhälst du einen Punkt. Am Ende aller 20 Level werden die Punkte zusammengezählt. Dabei gilt je weniger Punkte desto besser.</p>

        <script type="text/javascript" src="https://cdn.geogebra.org/apps/deployggb.js"></script>
        <script type="text/javascript">

                var parameters = {"id":"app","prerelease":false,"width":600,"height":450,"showToolBar":false,"borderColor":null,"showMenuBar":false,"showAlgebraInput":false,
				"showResetIcon":true,"enableLabelDrags":false,"enableShiftDragZoom":true,"enableRightClick":false,"capturingThreshold":null,"showToolBarHelp":false,
				"errorDialogsActive":true,"useBrowserForJS":true};

                var applet = new GGBApplet('5.0', parameters);
              
                //when used with Math Apps Bundle, uncomment this:
                //applet.setHTML5Codebase('GeoGebra/HTML5/5.0/webSimple/');

                window.onload = function() {
                        applet.inject('applet_container');
                        }

                function ggbOnInit() {
                    app.setLabelVisible(app.evalCommandGetLabels("(0,2)"),false);
                    app.evalCommand("(1,4)");
                    app.evalCommand("(2,-4)");
                    app.evalCommand("(5,2)");
                    app.evalCommand("(1,1)");
                    app.evalCommand("(-2,3)");
                    app.evalCommand("(-1,-6)");
                    app.evalCommand("(-2,-1)");
                    app.evalCommand("(1,2)");
                }


        </script>

        <div id="applet_container"></div>
	
        <script type="text/javascript">

            function checkInput(strInput) {
                // check if input is valid
                var division = "d=Division("+strInput+",x^3)";
                app.evalCommand(division);
                app.setVisible("d",false);
                app.evalCommand("dd=d(1)");
                app.setVisible("dd",false);
                var check = app.getValueString("dd").replace( /^\D+/g, '');
                if (check == '' || check == 1) {
                    console.log("Falsche Eingabe.");
                    return false;
                } else {
                    console.log("Passt");
                    return true;
                }
            }

            function evalInput(strInput) {
                // execute function if valid
                if (checkInput(strInput)==true){
                    // draw function
                    app.evalCommand(strInput);
                    update_counter();
                    // delete globs if hit
                }
                return false;
            }

            function update_counter() {
                // update counter by checking field value
                var counter= document.getElementById("counter");
                var counter_value = parseInt(counter.innerHTML);
                counter.innerHTML=counter_value+1;
            }

            function delete_globs(){
                
            }
        </script> 
        <form action="" onsubmit="evalInput(inputField.value);inputField.value='';return false"> 
        Funktion: <input type="text" name="inputField" size="30">  
        </form>
        <textarea name="counter" id="counter" size="10">0</textarea>      
    </div>
</body>

</html>




